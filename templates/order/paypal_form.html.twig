{% extends 'base.html.twig' %}

{% block title %}New Order!{% endblock %}

{% block body %}

<h1>Procesando...</h1>

<p>We are redirecting you to Paypal to complete the payment. One moment, please</p>

<form action="https://{{paypalHost}}/cgi-bin/webscr" method="post" id="form_pay">

    <!-- Valores requeridos -->
    <input type="hidden" name="business" value="{{paypalBusiness}}">
    <input type="hidden" name="cmd" value="_xclick">

    <input type="hidden" name="item_name" id="" value="{{item_name}}" required="">

    <input type="hidden" name="amount" id="" value="{{amount}}" required="">

    <input type="hidden" name="currency_code" value="EUR">

    <input type="hidden" name="quantity" id="" value="{{quantity}}" required="">

    <input type="hidden" name="custom" id="" value="{{custom}}" required="">

    <!-- Valores opcionales -->
    <!-- En el siguiente enlace puedes encontrar una lista completa de Variables HTML para pagos estÃ¡ndar de PayPal. -->
    <!-- https://developer.paypal.com/docs/paypal-payments-standard/integration-guide/Appx-websitestandard-htmlvariables/ -->

    <input type="hidden" name="item_number" value="1">
    <!-- <input type="hidden" name="invoice" value="0012"> -->

    <input type="hidden" name="lc" value="es_ES">
    <input type="hidden" name="no_shipping" value="1">
    <input type="hidden" name="image_url" value="https://picsum.photos/150/150">
    <input type="hidden" name="return" value="{{ url('process_order_paypal') }}">
    <input type="hidden" name="cancel_return" value="{{ url('orders', {status: 'cancel'}) }}">

    <hr>

    <script>
        document.getElementById("form_pay").submit();
    </script>

</form>

{% endblock %}
